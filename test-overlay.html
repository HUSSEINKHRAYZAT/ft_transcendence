<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Socket.IO Room Creation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .ov {
          position: fixed !important;
          top: 0 !important;
          left: 0 !important;
          right: 0 !important;
          bottom: 0 !important;
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
          background: rgba(0, 0, 0, 0.85) !important;
          backdrop-filter: blur(8px) !important;
          z-index: 20000 !important;
          font-family: system-ui, sans-serif !important;
          color: white !important;
        }
        .card {
          background: linear-gradient(135deg, #1f2937 0%, #111827 100%) !important;
          border: 2px solid rgba(132, 204, 22, 0.3) !important;
          padding: 24px !important;
          border-radius: 16px !important;
          min-width: 320px !important;
          max-width: 500px !important;
          box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(132, 204, 22, 0.2) !important;
          position: relative !important;
          margin: 20px !important;
        }
        .btn {
            background: linear-gradient(135deg, #374151 0%, #1f2937 100%);
            border: 1px solid rgba(132, 204, 22, 0.3);
            color: white;
            padding: 12px 20px;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.3s;
        }
        .btn-primary {
            background: linear-gradient(135deg, #84cc16 0%, #65a30d 100%);
            border-color: #84cc16;
            color: black;
            font-weight: 700;
        }
        .btn-outline {
            background: transparent;
            border-color: rgba(59, 130, 246, 0.4);
            color: #3b82f6;
        }
    </style>
</head>
<body class="bg-gray-900 text-white font-sans min-h-screen">
    <div class="flex items-center justify-center min-h-screen p-4">
        <div class="bg-gradient-to-br from-gray-800 to-gray-900 p-8 rounded-3xl shadow-2xl border border-lime-500/20">
            <h1 class="text-2xl font-bold text-lime-500 mb-6">Test Socket.IO Overlays</h1>
            
            <div class="space-y-4">
                <button id="testHost" class="btn btn-primary w-full">ðŸŽ¯ Test Host Dialog</button>
                <button id="testJoin" class="btn btn-outline w-full">ðŸ”— Test Join Dialog</button>
                <div id="status" class="text-sm text-gray-400 mt-4"></div>
            </div>
        </div>
    </div>

    <script type="module">
        const status = document.getElementById('status');
        
        function log(msg) {
            status.innerHTML += msg + '<br>';
            console.log(msg);
        }
        
        function overlay(html) {
            log('Creating overlay...');
            const ov = document.createElement("div");
            ov.className = "ov";
            ov.innerHTML = html;
            
            // Close functionality
            ov.addEventListener("click", (e) => {
                if (e.target === ov || e.target.hasAttribute("data-close")) {
                    ov.remove();
                    log('Overlay closed');
                }
            });
            
            document.body.appendChild(ov);
            log('Overlay added to DOM');
            return ov;
        }
        
        // Test host dialog
        document.getElementById('testHost').addEventListener('click', () => {
            log('Host button clicked');
            const roomId = 'ABC123';
            
            overlay(`<div class="card">
                <div style="font-weight:700; margin-bottom:16px; color:#84cc16; font-size:18px;">âœ… Room Created Successfully!</div>
                <div style="margin-bottom:12px; color:#d1d5db;">Share this room ID with other players:</div>
                <div style="font-size:28px; font-weight:800; margin:16px 0; padding:16px; background:rgba(0,0,0,0.4); border-radius:12px; text-align:center; border:2px solid #84cc16; color:#84cc16; letter-spacing:2px; font-family:monospace;">${roomId}</div>
                <div style="margin-bottom:16px; color:#9ca3af; text-align:center;">Other players can join using this code</div>
                <div style="display:flex; gap:12px; margin-top:20px;">
                    <button class="btn btn-outline" data-close style="flex:1;">Cancel</button>
                    <button class="btn btn-primary" style="flex:1;">Start Game</button>
                </div>
            </div>`);
        });
        
        // Test join dialog
        document.getElementById('testJoin').addEventListener('click', () => {
            log('Join button clicked');
            
            overlay(`<div class="card">
                <div style="font-weight:700; margin-bottom:16px; color:#3b82f6; font-size:18px;">ðŸ”— Join 2P Room</div>
                <div style="margin-bottom:12px; color:#d1d5db;">Enter the room ID provided by the host:</div>
                <div style="margin:16px 0;">
                    <input id="roomId" placeholder="ABC123" style="width:100%; padding:12px; background:rgba(0,0,0,0.4); border:2px solid #374151; border-radius:8px; text-align:center; font-size:20px; font-weight:600; text-transform:uppercase; letter-spacing:2px; color:#84cc16; font-family:monospace;" maxlength="6">
                </div>
                <div style="display:flex; gap:12px; margin-top:20px;">
                    <button class="btn btn-outline" data-close style="flex:1;">Cancel</button>
                    <button class="btn btn-primary" style="flex:1;">Join Room</button>
                </div>
            </div>`);
        });
        
        log('Test page loaded. Click buttons to test overlays.');
    </script>
</body>
</html>